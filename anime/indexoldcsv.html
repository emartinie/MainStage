<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Anime Info App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

  <header class="bg-indigo-600 text-white p-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold">Anime Info App</h1>
    <input id="searchInput" type="text" placeholder="Search anime..." 
           class="p-2 rounded text-black w-1/3" />
  </header>

  <main class="p-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4" id="animeContainer">
    <!-- Anime cards will appear here -->
  </main>

  <script>
    async function loadAnime() {
      const response = await fetch('anime_index.json');
      const animeList = await response.json();
      const container = document.getElementById('animeContainer');
      container.innerHTML = '';

      animeList.forEach(anime => {
        const card = document.createElement('div');
        card.className = "bg-white rounded shadow p-4 hover:shadow-lg transition cursor-pointer";
        card.innerHTML = `
          <h2 class="font-bold text-lg">${anime.title} ${anime.japanese_title ? '(' + anime.japanese_title + ')' : ''}</h2>
          <p class="text-sm text-gray-600">${anime.type} | Episodes: ${anime.episodes || '?'}</p>
          <p class="text-sm text-gray-500">Genres: ${anime.genres.join(', ')}</p>
          <p class="text-sm text-gray-700 mt-2">${anime.plot_summary ? anime.plot_summary.slice(0, 100) + '...' : 'No summary yet.'}</p>
        `;
        container.appendChild(card);
      });
    }

    // Search filter
    document.getElementById('searchInput').addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      document.querySelectorAll('#animeContainer > div').forEach(card => {
        card.style.display = card.innerText.toLowerCase().includes(query) ? 'block' : 'none';
      });
    });

    loadAnime();
  </script>

</body>
</html>
